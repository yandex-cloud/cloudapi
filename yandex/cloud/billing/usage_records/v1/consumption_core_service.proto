syntax = "proto3";
package yandex.cloud.billing.usage_records.v1;
option go_package = "github.com/yandex-cloud/go-genproto/yandex/cloud/billing/usage_records/v1;usageRecords";
option java_package = "yandex.cloud.api.billing.usage_records.v1";

import "google/protobuf/timestamp.proto";

import "yandex/cloud/billing/usage_records/v1/billing_types.proto";
import "yandex/cloud/billing/usage_records/v1/common_types.proto";
import "yandex/cloud/billing/usage_records/v1/credit.proto";
import "yandex/cloud/billing/usage_records/v1/consumption_core.proto";

import "yandex/cloud/validation.proto";

// Service for detailed consumption and usage reporting.
//
// The ConsumptionCoreService provides a comprehensive set of methods for retrieving detailed
// usage and billing information for different entities within a billing account hierarchy.
// Each method offers aggregated data for specific entity types (a billing account, clouds,
// folders, services, SKUs, resources, or labels) with support for various filtering options
// and aggregation periods. Note that each request targets a single billing account.
//
// All methods in this service follow the same three-level response structure:
// 1. Overall totals for the entire request period (cost, credits, expense)
// 2. Entity-level totals - summary data for each entity of the requested type
// 3. Time series data - periodic breakdown for each entity according to the specified aggregation period
//    (controlled by the aggregation_period request parameter: day/week/month/quarter/year)
//
// These methods help customers and internal teams analyze usage patterns, track expenses,
// monitor resource consumption, and generate detailed billing reports. The service
// supports filtering by entity IDs, date ranges, labels, and other parameters to provide
// targeted insights into cloud resource usage.
//
// Required permissions:
// All methods in this service require one of the following permissions on the specified billing account:
// - `billing.accounts.getReport`
// 
// Rate limits:
// This API is limited to 1 request per minute per IP address.
service ConsumptionCoreService {
    // Returns aggregated usage report for a single specified billing account,
    // optionally filtered by clouds, folders, SKUs, labels, and period granularity.
    //
    // This method provides a comprehensive view of all usage and costs for a specific
    // billing account, with options to filter data by various entity types and to aggregate
    // results at different time granularities (daily, monthly, etc.).
    //
    // Implementation details:
    // - The report includes the total cost, applied credits (monetary grants, volume incentives, committed use discounts, and free credits), and final expense
    // - Results can be filtered by cloud IDs, folder IDs, service IDs, SKU IDs, resource IDs, or labels
    // - All applicable filters from the request will be applied (with AND logic between different filter types)
    // - Time-based data is grouped according to the specified aggregation period
    //
    // Error handling:
    // - Returns INVALID_ARGUMENT if the request parameters fail validation
    // - Returns UNAUTHENTICATED if the user is not authenticated or the billing account does not exist
    // - Returns PERMISSION_DENIED if the user lacks required permissions
    // - Returns INTERNAL for internal server errors
    rpc GetBillingAccountUsageReport(UsageReportRequest) returns (BillingAccountUsageReportResponse);

    // Returns aggregated usage report for the specified clouds
    // under the specified billing account.
    //
    // This method provides detailed usage and cost information grouped by clouds
    // within the specified billing account. The data can be filtered by various
    // entity types and aggregated at different time granularities.
    //
    // Implementation details:
    // - Results are organized by cloud, with each cloud's usage, costs, and credits detailed
    // - If cloud_ids are specified, only data for those clouds is included (using OR logic)
    // - When no cloud_ids are specified, data for all clouds under the billing account is returned
    // - Other filters (folder_ids, service_ids, sku_ids, resource_ids, labels) are always applied if present
    // - Hierarchical data structure allows analyzing costs across the organization's cloud resources
    //
    // Error handling:
    // - Returns INVALID_ARGUMENT if the request parameters fail validation
    // - Returns UNAUTHENTICATED if the user is not authenticated or the billing account does not exist
    // - Returns PERMISSION_DENIED if the user lacks required permissions
    // - Returns INTERNAL for internal server errors
    rpc GetCloudUsageReport(UsageReportRequest) returns (CloudUsageReportResponse);

    // Returns aggregated usage report for the specified folders
    // under the specified billing account.
    //
    // This method provides detailed usage and cost information grouped by folders
    // within the specified billing account. The data can be filtered by various
    // entity types and aggregated at different time granularities.
    //
    // Implementation details:
    // - Results are organized by folder, with each folder's usage, costs, and credits detailed
    // - If folder_ids are specified, only data for those folders is included (using OR logic)
    // - When no folder_ids are specified, data for all folders under the billing account is returned
    // - Other filters (cloud_ids, service_ids, sku_ids, resource_ids, labels) are always applied if present
    // - Provides visibility into costs at the project/folder level within your organization
    //
    // Error handling:
    // - Returns INVALID_ARGUMENT if the request parameters fail validation
    // - Returns UNAUTHENTICATED if the user is not authenticated or the billing account does not exist
    // - Returns PERMISSION_DENIED if the user lacks required permissions
    // - Returns INTERNAL for internal server errors
    //
    // Required permissions:
    // - `billing.accounts.getReport` on the specified billing account
    rpc GetFolderUsageReport(UsageReportRequest) returns (FolderUsageReportResponse);

    // Returns aggregated usage report for the specified services
    // under the specified billing account.
    //
    // This method provides detailed usage and cost information grouped by services
    // within the specified billing account. Services represent broad product categories
    // (like Compute, Storage, AI, etc.) that contain multiple SKUs. The data can be
    // filtered by various entity types and aggregated at different time granularities.
    //
    // Implementation details:
    // - Results are organized by service, with each service's usage, costs, and credits detailed
    // - If service_ids are specified, only data for those services is included (using OR logic)
    // - When no service_ids are specified, data for all services under the billing account is returned
    // - Other filters (cloud_ids, folder_ids, sku_ids, resource_ids, labels) are always applied if present
    // - Service data includes the service name and description
    // - Helps identify which cloud services are driving your overall costs
    //
    // Error handling:
    // - Returns INVALID_ARGUMENT if the request parameters fail validation
    // - Returns UNAUTHENTICATED if the user is not authenticated or the billing account does not exist
    // - Returns PERMISSION_DENIED if the user lacks required permissions
    // - Returns INTERNAL for internal server errors
    rpc GetServiceUsageReport(UsageReportRequest) returns (ServiceUsageReportResponse);

    // Returns aggregated usage report by SKU (Stock Keeping Unit)
    // under the specified billing account.
    //
    // This method provides detailed usage and cost information grouped by SKUs
    // within the specified billing account. SKUs are specific billable product offerings
    // (such as specific VM types, disk types, or AI models) that belong to a parent service.
    // The data can be filtered by various entity types and aggregated at different time granularities.
    //
    // Implementation details:
    // - Results are organized by SKU, with each SKU's usage, costs, and credits detailed
    // - If sku_ids are specified, only data for those SKUs is included (using OR logic)
    // - When no sku_ids are specified, data for all SKUs under the billing account is returned
    // - Other filters (cloud_ids, folder_ids, service_ids, resource_ids, labels) are always applied if present
    // - SKU data includes pricing quantity, unit of measurement, and translated display names
    // - Provides the most granular view of which specific product offerings are generating costs
    //
    // Error handling:
    // - Returns INVALID_ARGUMENT if the request parameters fail validation
    // - Returns UNAUTHENTICATED if the user is not authenticated or the billing account does not exist
    // - Returns PERMISSION_DENIED if the user lacks required permissions
    // - Returns INTERNAL for internal server errors
    rpc GetSKUUsageReport(UsageReportRequest) returns (SKUUsageReportResponse);

    // Returns aggregated usage report by individual resource
    // under the specified billing account.
    //
    // This method provides detailed usage and cost information grouped by individual resources
    // within the specified billing account. The data can be filtered by various
    // entity types and aggregated at different time granularities.
    //
    // Implementation details:
    // - Results are organized by resource, with each resource's usage, costs, and credits detailed
    // - If resource_ids are specified, only data for those resources is included (using OR logic)
    // - When no resource_ids are specified, data for all resources under the billing account is returned
    // - Other filters (cloud_ids, folder_ids, service_ids, sku_ids, labels) are always applied if present
    // - This provides the most granular view of costs as it breaks down to the individual resource level
    // - Enables precise cost analysis at the individual resource instance level (specific VMs, disks, etc.)
    //
    // Error handling:
    // - Returns INVALID_ARGUMENT if the request parameters fail validation
    // - Returns UNAUTHENTICATED if the user is not authenticated or the billing account does not exist
    // - Returns PERMISSION_DENIED if the user lacks required permissions
    // - Returns INTERNAL for internal server errors
    rpc GetResourceUsageReport(UsageReportRequest) returns (ResourceUsageReportResponse);

    // Returns aggregated usage report by label keys and values
    // under the specified billing account.
    //
    // This method provides detailed usage and cost information grouped by label key-value pairs
    // within the specified billing account. Labels are user-defined metadata tags attached to resources
    // (such as VMs, disks, etc.) in the form of key-value pairs (e.g., "env:prod", "region:us-west").
    // The data can be filtered by various entity types and aggregated at different time granularities.
    //
    // Implementation details:
    // - Results are organized by label key-value pairs, with usage, costs, and credits detailed for each
    // - If labels filter is specified, only data for matching labels is included
    // - Other filters (cloud_ids, folder_ids, service_ids, sku_ids, resource_ids) are always applied if present
    // - Resources can have multiple labels attached (e.g., a VM might have "env:prod", "team:finance", "region:us")
    // - If a resource has multiple labels at the same point in time, the usage and cost metrics are reported for each label separately.
    //   In other words, the same resource's cost is **duplicated** across its labels rather than split. For example,
    //   if a VM costs 90 units and has 3 labels, the report will show 90 units for each label, not 30 units per label.
    // - This allows for custom business dimensions analysis based on resource tagging
    // - Usage data is aggregated for all resources that share the same label
    // - Particularly useful for cost allocation and chargeback across business units, environments, or projects
    //
    // Error handling:
    // - Returns INVALID_ARGUMENT if the request parameters fail validation
    // - Returns UNAUTHENTICATED if the user is not authenticated or the billing account does not exist
    // - Returns PERMISSION_DENIED if the user lacks required permissions
    // - Returns INTERNAL for internal server errors
    rpc GetLabelKeyUsageReport(UsageReportRequest) returns (LabelKeyUsageReportResponse);
}

// Request for retrieving usage report data.
//
// This message defines the parameters for requesting usage reports across
// all ConsumptionCoreService methods. It supports filtering by various
// entity types and specifying the time range and aggregation period.
message UsageReportRequest {
    // Required. Billing account identifier.
    string billing_account_id = 1 [(required) = true];

    // Required. Inclusive start date for metrics selection (UTC).
    // This timestamp defines the beginning of the reporting period.
    // All usage data starting from this timestamp will be included in the report.
    // Note: The time component (hours/minutes/seconds) is ignored since the smallest
    // aggregation period is a day. For example, both 2023-04-15T00:00:00 and
    // 2023-04-15T23:59:59 will include the entire day of April 15, 2023.
    // For best results, align with natural time boundaries (start of day, month)
    // based on your aggregation_period value.
    google.protobuf.Timestamp start_date = 2 [(required) = true];

    // Required. Inclusive end date for metrics selection (UTC).
    // This timestamp defines the end of the reporting period.
    // All usage data up to and including this timestamp will be included in the report.
    // Note: The time component (hours/minutes/seconds) is ignored since the smallest
    // aggregation period is a day. For example, both 2023-04-15T00:00:00 and
    // 2023-04-15T23:59:59 will include the entire day of April 15, 2023.
    // For best results, align with natural time boundaries (end of day, month)
    // based on your aggregation_period value.
    google.protobuf.Timestamp end_date = 3 [(required) = true];

    // Optional. List of cloud IDs to filter the data.
    // If specified, only usage data from these clouds will be included in the report.
    // If omitted, data from all clouds available to the billing account will be included.
    // The filter is applied with OR logic (results include data matching any of the specified cloud IDs).
    repeated string cloud_ids = 4;

    // Optional. List of folder IDs to filter the data.
    // If specified, only usage data from these folders will be included in the report.
    // If omitted, data from all folders available to the billing account will be included.
    // The filter is applied with OR logic (results include data matching any of the specified folder IDs).
    repeated string folder_ids = 5;

    // Optional. List of Service IDs to filter the data.
    // If specified, only usage data from these services (e.g., Compute, Storage, AI) will be included.
    // If omitted, data from all services used by the billing account will be included.
    // The filter is applied with OR logic (results include data matching any of the specified service IDs).
    repeated string service_ids = 6;

    // Optional. List of SKU (Stock Keeping Unit) IDs to filter the data.
    // If specified, only usage data from these specific SKUs will be included.
    // If omitted, data from all SKUs used by the billing account will be included.
    // The filter is applied with OR logic (results include data matching any of the specified SKU IDs).
    repeated string sku_ids = 7;

    // Optional. Filter by labels: key is label key (e.g., "env", "team", "region"),
    // value is list of label values to match (e.g., ["prod", "stage"] for key "env").
    // This allows filtering resources based on their attached labels.
    //
    // Example: To filter resources that have either (env=prod OR env=test) AND (team=finance),
    // use the following filter:
    // {
    //   "env": { "values": ["prod", "test"] },
    //   "team": { "values": ["finance"] }
    // }
    //
    // Note: The filter logic is (value1 OR value2 OR ...) for each key,
    // and (key1 AND key2 AND ...) between different keys.
    map<string, LabelList> labels = 8;

    // Optional. List of resource IDs to filter the data.
    // If specified, only usage data from these specific resources (e.g., individual VMs, disks) will be included.
    // If omitted, data from all resources used by the billing account will be included.
    // Filter is applied with OR logic (results include data matching any of the specified resource IDs).
    repeated string resource_ids = 9;

    // Note on filter combinations: When multiple filter types are specified (cloud_ids, folder_ids,
    // service_ids, sku_ids, labels, resource_ids), they are combined with AND logic. For example,
    // if both cloud_ids and service_ids are provided, the results will only include data that
    // matches both the specified clouds AND the specified services.
    //
    // The billing currency for the report is determined automatically based on the billing account.
    // All monetary values in the response will be in this currency.

    // Optional. Aggregation granularity for the report, controlling how data points are grouped
    // in time series results. Available options include:
    // - DAY: Group metrics by day, providing daily breakdowns
    // - WEEK: Group metrics by week, providing weekly breakdowns
    // - MONTH: Group metrics by month, providing monthly breakdowns
    // - QUARTER: Group metrics by quarter, providing quarterly breakdowns
    // - YEAR: Group metrics by year, providing yearly breakdowns
    //
    // This setting affects the time series data returned in the periodic field of each entity.
    // If omitted, the service will typically use DAY as the default granularity.
    TimeGrouping aggregation_period = 10;
}

// Response for usage report requests by billing account.
//
// Contains aggregated usage, cost, and credit information for a billing account,
// with both summary totals and detailed breakdowns by billing account entity.
// The response includes:
// 1. Overall totals for the entire period (cost, credits, expense)
// 2. Entity-level totals for the specified billing account
// 3. Time series breakdown for the billing account according to the requested aggregation period
message BillingAccountUsageReportResponse {
    // Currency code (e.g., "RUB", "USD") for all monetary values in the response.
    // Determined by the billing account's settings.
    Currency currency = 1;

    // Total usage cost for the selected time period.
    // This represents the raw cost before any credits or discounts are applied.
    // Calculated based on the resource consumption and the corresponding price rates.
    StringDecimal cost = 2;

    // Total credits (monetary grants, volume incentives, committed use discounts, and free credits) applied in the selected period.
    // Contains a detailed breakdown of all credit types that reduced the final billable amount.
    CreditDetails credit_details = 3;

    // Total expense (including cost and credit) for the selected time period.
    // This is the final billable amount after all credits have been applied.
    // Formula: expense = cost - sum of all credits.
    StringDecimal expense = 4;

    // Detailed usage and billing data for the specified billing account entity.
    // This field contains a structured breakdown of costs, credits, and expenses
    // for the requested billing account, including:
    // 1. Entity-level totals for the entire period (cost, credits, expense)
    // 2. Time series data broken down by the specified aggregation period (day/week/month/quarter/year)
    // This represents the second and third levels in the overall three-level response structure.
    repeated BillingAccountUsageReportEntityData entities_data = 5;
}

// Response for usage report requests by cloud.
//
// Contains aggregated usage, cost, and credit information organized by cloud entities,
// with both summary totals and detailed breakdowns for each cloud.
// The response includes:
// 1. Overall totals for the entire period (cost, credits, expense)
// 2. Entity-level totals for each cloud
// 3. Time series breakdown for each cloud according to the requested aggregation period
message CloudUsageReportResponse {
    // Currency code (e.g., "RUB", "USD") for all monetary values in the response.
    // Determined by the billing account's settings.
    Currency currency = 1;

    // Total usage cost for the selected time period.
    // This represents the raw cost before any credits or discounts are applied.
    // Calculated based on the resource consumption and the corresponding price rates.
    StringDecimal cost = 2;

    // Total credits (monetary grants, volume incentives, committed use discounts, and free credits) applied in the selected period.
    // Contains a detailed breakdown of all credit types that reduced the final billable amount.
    CreditDetails credit_details = 3;

    // Total expense (including cost and credit) for the selected time period.
    // This is the final billable amount after all credits have been applied.
    // Formula: expense = cost - sum of all credits.
    StringDecimal expense = 4;

    // Detailed usage and billing data for each cloud entity.
    // This field contains a structured breakdown of costs, credits, and expenses
    // for each individual cloud, including:
    // 1. Entity-level totals for the entire period (cost, credits, expense)
    // 2. Time series data broken down by the specified aggregation period (day/week/month/quarter/year)
    // This represents the second and third levels in the overall three-level response structure.
    repeated CloudUsageReportEntityData entities_data = 5;
}

// Response for usage report requests by folder.
//
// Contains aggregated usage, cost, and credit information organized by folder entities,
// with both summary totals and detailed breakdowns for each folder.
// The response includes:
// 1. Overall totals for the entire period (cost, credits, expense)
// 2. Entity-level totals for each folder
// 3. Time series breakdown for each folder according to the requested aggregation period
message FolderUsageReportResponse {
    // Currency code (e.g., "RUB", "USD") for all monetary values in the response.
    // Determined by the billing account's settings.
    Currency currency = 1;

    // Total usage cost for the selected time period.
    // This represents the raw cost before any credits or discounts are applied.
    // Calculated based on the resource consumption and the corresponding price rates.
    StringDecimal cost = 2;

    // Total credits (monetary grants, volume incentives, committed use discounts, and free credits) applied in the selected period.
    // Contains a detailed breakdown of all credit types that reduced the final billable amount.
    CreditDetails credit_details = 3;

    // Total expense (including cost and credit) for the selected time period.
    // This is the final billable amount after all credits have been applied.
    // Formula: expense = cost - sum of all credits.
    StringDecimal expense = 4;

    // Detailed usage and billing data for each folder entity.
    // This field contains a structured breakdown of costs, credits, and expenses
    // for each individual folder, including:
    // 1. Entity-level totals for the entire period (cost, credits, expense)
    // 2. Time series data broken down by the specified aggregation period (day/week/month/quarter/year)
    // This represents the second and third levels in the overall three-level response structure.
    repeated FolderUsageReportEntityData entities_data = 5;
}

// Response for usage report requests by service.
//
// Contains aggregated usage, cost, and credit information organized by service entities,
// with both summary totals and detailed breakdowns for each service. Services represent
// broad product categories (like Compute, Storage, AI) that can contain multiple SKUs.
// The response includes:
// 1. Overall totals for the entire period (cost, credits, expense)
// 2. Entity-level totals for each service
// 3. Time series breakdown for each service according to the requested aggregation period
message ServiceUsageReportResponse {
    // Currency code (e.g., "RUB", "USD") for all monetary values in the response.
    // Determined by the billing account's settings.
    Currency currency = 1;

    // Total usage cost for the selected time period.
    // This represents the raw cost before any credits or discounts are applied.
    // Calculated based on the resource consumption and the corresponding price rates.
    StringDecimal cost = 2;

    // Total credits (monetary grants, volume incentives, committed use discounts, and free credits) applied in the selected period.
    // Contains a detailed breakdown of all credit types that reduced the final billable amount.
    CreditDetails credit_details = 3;

    // Total expense (including cost and credit) for the selected time period.
    // This is the final billable amount after all credits have been applied.
    // Formula: expense = cost - sum of all credits.
    StringDecimal expense = 4;

    // Detailed usage and billing data for each service entity.
    // This field contains a structured breakdown of costs, credits, and expenses
    // for each individual service, including:
    // 1. Entity-level totals for the entire period (cost, credits, expense)
    // 2. Time series data broken down by the specified aggregation period (day/week/month/quarter/year)
    // This represents the second and third levels in the overall three-level response structure.
    repeated ServiceUsageReportEntityData entities_data = 5;
}

// Response for usage report requests by SKU.
//
// Contains aggregated usage, cost, and credit information organized by SKU (Stock Keeping Unit) entities,
// with both summary totals and detailed breakdowns for each SKU. SKUs are specific billable offerings
// (like particular VM types or disk types) that belong to a parent service.
// The response includes:
// 1. Overall totals for the entire period (cost, credits, expense)
// 2. Entity-level totals for each SKU
// 3. Time series breakdown for each SKU according to the requested aggregation period
message SKUUsageReportResponse {
    // Currency code (e.g., "RUB", "USD") for all monetary values in the response.
    // Determined by the billing account's settings.
    Currency currency = 1;

    // Total usage cost for the selected time period.
    // This represents the raw cost before any credits or discounts are applied.
    // Calculated based on the resource consumption and the corresponding price rates.
    StringDecimal cost = 2;

    // Total credits (monetary grants, volume incentives, committed use discounts, and free credits) applied in the selected period.
    // Contains a detailed breakdown of all credit types that reduced the final billable amount.
    CreditDetails credit_details = 3;

    // Total expense (including cost and credit) for the selected time period.
    // This is the final billable amount after all credits have been applied.
    // Formula: expense = cost - sum of all credits.
    StringDecimal expense = 4;

    // Detailed usage and billing data for each SKU entity.
    // This field contains a structured breakdown of costs, credits, and expenses
    // for each individual SKU, including:
    // 1. Entity-level totals for the entire period (cost, credits, expense, pricing_quantity)
    // 2. Time series data broken down by the specified aggregation period (day/week/month/quarter/year)
    // This represents the second and third levels in the overall three-level response structure.
    repeated SKUUsageReportEntityData entities_data = 5;
}

// Response for usage report requests by resource.
//
// Contains aggregated usage, cost, and credit information organized by resource entities,
// with both summary totals and detailed breakdowns for each individual resource.
// The response includes:
// 1. Overall totals for the entire period (cost, credits, expense)
// 2. Entity-level totals for each resource
// 3. Time series breakdown for each resource according to the requested aggregation period
message ResourceUsageReportResponse {
    // Currency code (e.g., "RUB", "USD") for all monetary values in the response.
    // Determined by the billing account's settings.
    Currency currency = 1;

    // Total usage cost for the selected time period.
    // This represents the raw cost before any credits or discounts are applied.
    // Calculated based on the resource consumption and the corresponding price rates.
    StringDecimal cost = 2;

    // Total credits (monetary grants, volume incentives, committed use discounts, and free credits) applied in the selected period.
    // Contains a detailed breakdown of all credit types that reduced the final billable amount.
    CreditDetails credit_details = 3;

    // Total expense (including cost and credit) for the selected time period.
    // This is the final billable amount after all credits have been applied.
    // Formula: expense = cost - sum of all credits.
    StringDecimal expense = 4;

    // Detailed usage and billing data for each resource entity.
    // This field contains a structured breakdown of costs, credits, and expenses
    // for each individual resource, including:
    // 1. Entity-level totals for the entire period (cost, credits, expense)
    // 2. Time series data broken down by the specified aggregation period (day/week/month/quarter/year)
    // This represents the second and third levels in the overall three-level response structure.
    repeated ResourceUsageReportEntityData entities_data = 5;
}


// Response for usage report requests by label-based grouping.
//
// Contains aggregated usage, cost, and credit information organized by label key-value pairs
// (e.g., "env:prod", "team:finance"), with both summary totals and detailed breakdowns for each label group.
// This allows analyzing costs across custom business dimensions defined by user-attached labels.
// The response includes:
// 1. Overall totals for the entire period (cost, credits, expense)
// 2. Entity-level totals for each label key-value pair
// 3. Time series breakdown for each label key-value pair according to the requested aggregation period
message LabelKeyUsageReportResponse {
    // Currency code (e.g., "RUB", "USD") for all monetary values in the response.
    // Determined by the billing account's settings.
    Currency currency = 1;

    // Total usage cost for the selected time period.
    // This represents the raw cost before any credits or discounts are applied.
    // Calculated based on the resource consumption and the corresponding price rates.
    StringDecimal cost = 2;

    // Total credits (monetary grants, volume incentives, committed use discounts, and free credits) applied in the selected period.
    // Contains a detailed breakdown of all credit types that reduced the final billable amount.
    CreditDetails credit_details = 3;

    // Total expense (including cost and credit) for the selected time period.
    // This is the final billable amount after all credits have been applied.
    // Formula: expense = cost - sum of all credits.
    StringDecimal expense = 4;

    // Detailed usage and billing data for each label entity.
    // This field contains a structured breakdown of costs, credits, and expenses
    // for each individual label, including:
    // 1. Entity-level totals for the entire period (cost, credits, expense)
    // 2. Time series data broken down by the specified aggregation period (day/week/month/quarter/year)
    // This represents the second and third levels in the overall three-level response structure.
    repeated LabelUsageReportEntityData entities_data = 5;
}
